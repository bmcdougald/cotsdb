<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/layout :: head('List Products')">
</head>

<body>
  <div th:replace="fragments/layout :: navbar"></div>

  <table class="table table-bordered table-hover" id="productTable">
    <thead class="thead-dark">
      <tr>
        <th width="10%">ID</th>
        <th width="50%">Product Name</th>
        <th width="10%">Version</th>
        <th width="10%">License Key</th>
        <th width="5%">Start</th>
        <th width="5%">Expiration</th>
        <th width="10%">Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="license:${license}">
        <td th:text="${license.id}"></td>
        <td>
          <a th:text="${license.product_name}" th:href="@{/licenses/{id}/update/(id=${license.id})}">
          </a>
        </td>
        <td>
          <a th:text="${license.version}" th:href="@{/licenses/{id}/update/(id=${license.id})}">
          </a>
        </td>
        <td>
          <a th:text="${license.license_key}" th:href="@{/licenses/{id}/update/(id=${license.id})}">
          </a>
        </td>
        <td>
          <a th:text="${license.start_date}" th:href="@{/licenses/{id}/update/(id=${license.id})}">
          </a>
        </td>
        <td>
          <a th:text="${license.expiration_date}" th:href="@{/licenses/{id}/update/(id=${license.id})}">
          </a>
        </td>
        <td>
          <a th:href="@{/licenses/{id}/delete/(id=${license.id})}" onClick="return window.confirm('Are you sure you want to delete Product?')">
            <i class="far fa-trash-alt fa-lg" aria-hidden=”true”></i>
          </a>
        </td>
      </tr>
    </tbody>
  </table>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.25/datatables.min.js"></script>
  <script>
			$(document).ready(function() {
				$("#productTable").DataTable({
						'aoColumnDefs': [{
        				'bSortable': false,
        				'aTargets': [-1] /* 1st one, start by the right */
    				}]
				});
			})
		</script>
</body>

</html>
